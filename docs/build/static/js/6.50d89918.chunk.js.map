{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","pages/role/RoleSelectTable.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","pages/user/EditModal.jsx","pages/user/index.jsx","options/index.js","../node_modules/antd/es/row/style/index.js","../node_modules/antd/es/col/style/index.js","../node_modules/antd/es/row/index.js","../node_modules/antd/es/col/index.js","../node_modules/antd/es/card/style/index.js","../node_modules/antd/es/card/Grid.js","../node_modules/antd/es/card/Meta.js","../node_modules/antd/es/card/index.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_getPrototypeOf","getPrototypeOf","_typeof","obj","Symbol","iterator","constructor","prototype","_possibleConstructorReturn","self","call","ReferenceError","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","toString","e","result","Super","NewTarget","this","arguments","apply","WithCheckboxTable","renderTableCheckbox","Table","RoleSelectTable","config","ajax","subClass","superClass","create","value","protoProps","staticProps","state","loading","dataSource","roles","columns","title","dataIndex","handleSearch","a","setState","get","res","WITH_SYSTEMS","systems","forEach","item","systemId","systemName","push","system","find","sys","children","id","name","type","sort","b","filter","handleSearchValue","filterTree","node","remark","some","val","toLowerCase","includes","handleChange","timer","clearTimeout","setTimeout","onChange","fullValue","disabled","getCheckboxProps","others","style","padding","display","alignItems","Search","flex","allowClear","placeholder","onSearch","showHeader","size","rowSelection","selectedRowKeys","map","selectedRows","pagination","rowKey","Component","defaultProps","modal","record","isDetail","isEdit","width","top","onOk","onCancel","useState","setLoading","useForm","form","useGet","mountFire","formatResult","setFieldsValue","save","usePost","successTip","run","update","usePut","fetchUserByAccount","values","roleIds","startsWith","params","checkAccount","useDebounceValidator","rule","account","user","getFieldValue","Error","layout","labelCol","colLayout","xs","span","sm","onFinish","initialValues","enabled","okText","okHtmlType","cancelText","resetFields","footer","onClick","undefined","hidden","gutter","fitHeight","otherHeight","label","required","noSpace","rules","validator","checkedChildren","unCheckedChildren","validateRules","email","mobile","bodyStyle","path","pageNum","setPageNum","pageSize","setPageSize","conditions","setConditions","visible","setVisible","setRecord","list","total","data","deleteRecord","useDel","render","options","getTag","items","color","confirm","onConfirm","handleDelete","queryItem","htmlType","serialNumber","onPageNumChange","onPageSizeChange","EditModal","menuTarget","yesNo","tag","sex","meta","action","wrapperOptions","Row","Col","__rest","s","t","hasOwnProperty","indexOf","getOwnPropertySymbols","propertyIsEnumerable","Grid","_a","prefixCls","className","_a$hoverable","hoverable","React","ConfigConsumer","_ref","prefix","getPrefixCls","classString","classNames","concat","_defineProperty","_extends","Meta","customizePrefixCls","avatar","description","avatarDom","titleDom","descriptionDom","MetaDetail","Card","_extends2","_classNames","head","_React$useContext","ConfigContext","direction","SizeContext","extra","_props$headStyle","headStyle","_props$bodyStyle","_props$bordered","bordered","customizeSize","cover","actions","tabList","activeTabKey","defaultActiveTabKey","tabBarExtraContent","_props$tabProps","tabProps","loadingBlockStyle","block","loadingBlock","hasActiveTabKey","extraProps","tabs","Tabs","onTabChange","TabPane","tab","coverDom","body","actionDom","index","getAction","divProps","omit","mergedSize","containGrid","element","isContainGrid"],"mappings":"+VAAe,SAASA,EAAgBC,EAAUC,GAChD,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,qCCFxB,SAASC,EAAkBC,EAAQC,GACjC,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CACrC,IAAIE,EAAaH,EAAMC,GACvBE,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjDC,OAAOC,eAAeT,EAAQI,EAAWM,IAAKN,ICNnC,SAASO,EAAgBC,EAAGC,GAMzC,OALAF,EAAkBH,OAAOM,gBAAkB,SAAyBF,EAAGC,GAErE,OADAD,EAAEG,UAAYF,EACPD,IAGcA,EAAGC,GCNb,SAASG,EAAgBJ,GAItC,OAHAI,EAAkBR,OAAOM,eAAiBN,OAAOS,eAAiB,SAAyBL,GACzF,OAAOA,EAAEG,WAAaP,OAAOS,eAAeL,KAEvBA,GCJV,SAASM,EAAQC,GAa9B,OATED,EADoB,oBAAXE,QAAoD,kBAApBA,OAAOC,SACtC,SAAiBF,GACzB,cAAcA,GAGN,SAAiBA,GACzB,OAAOA,GAAyB,oBAAXC,QAAyBD,EAAIG,cAAgBF,QAAUD,IAAQC,OAAOG,UAAY,gBAAkBJ,IAI9GA,GCXF,SAASK,EAA2BC,EAAMC,GACvD,OAAIA,GAA2B,WAAlBR,EAAQQ,IAAsC,oBAATA,ECHrC,SAAgCD,GAC7C,QAAa,IAATA,EACF,MAAM,IAAIE,eAAe,6DAG3B,OAAOF,EDEA,CAAsBA,GAHpBC,EEDI,SAASE,EAAaC,GACnC,IAAIC,ECJS,WACb,GAAuB,qBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EACjE,GAAID,QAAQC,UAAUC,KAAM,OAAO,EACnC,GAAqB,oBAAVC,MAAsB,OAAO,EAExC,IAEE,OADAC,KAAKZ,UAAUa,SAASV,KAAKK,QAAQC,UAAUG,KAAM,IAAI,iBAClD,EACP,MAAOE,GACP,OAAO,GDLuB,GAChC,OAAO,WACL,IACIC,EADAC,EAAQ,EAAeV,GAG3B,GAAIC,EAA2B,CAC7B,IAAIU,EAAY,EAAeC,MAAMnB,YACrCgB,EAASP,QAAQC,UAAUO,EAAOG,UAAWF,QAE7CF,EAASC,EAAMI,MAAMF,KAAMC,WAG7B,OAAO,EAA0BD,KAAMH,I,0BELrCM,EAAoBC,YAAoBC,KAKzBC,EAHpBC,YAAO,CACJC,MAAM,G,mBCbK,SAAmBC,EAAUC,GAC1C,GAA0B,oBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIrD,UAAU,sDAGtBoD,EAAS3B,UAAYf,OAAO4C,OAAOD,GAAcA,EAAW5B,UAAW,CACrED,YAAa,CACX+B,MAAOH,EACP3C,UAAU,EACVD,cAAc,KAGd6C,GAAY,EAAeD,EAAUC,G,UTHNtD,EAAayD,EAAYC,E,uJQmB1DC,MAAQ,CACJC,SAAS,EACTC,WAAY,GACZC,MAAO,I,EAGXC,QAAU,CACN,CAACC,MAAO,qBAAOC,UAAW,OAAQpD,IAAK,QACvC,CAACmD,MAAO,eAAMC,UAAW,SAAUpD,IAAK,W,EAS5CqD,a,sBAAe,gCAAAC,EAAA,0DACP,EAAKR,MAAMC,QADJ,iEAIP,EAAKQ,SAAS,CAACR,SAAS,IAJjB,SAKW,EAAKxD,MAAMgD,KAAKiB,IAAI,UAL/B,OAKDC,EALC,OAOHR,EAASQ,GAAO,GAChBC,KACMC,EAAU,GAChBV,EAAMW,SAAQ,SAAAC,GAAS,IACZC,EAAwBD,EAAxBC,SAAUC,EAAcF,EAAdE,WACjB,IAAKD,EAAU,OAAOH,EAAQK,KAAKH,GAEnC,IAAII,EAASN,EAAQO,MAAK,SAAAC,GAAG,OAAIA,EAAIL,WAAaA,KAC7CG,EAYDA,EAAOG,SAASJ,KAAKH,IAXrBI,EAAS,CACLI,GAAG,YAAD,OAAcP,GAChBA,WACAQ,KAAMP,EACNQ,KAAM,EACNH,SAAU,CACNP,IAGRF,EAAQK,KAAKC,OAKrBN,EAAQa,MAAK,SAAClB,EAAGmB,GAAJ,OAAUnB,EAAEiB,KAAOE,EAAEF,MAAQ,EAAI,KAC9CZ,EAAQC,SAAQ,YAAiB,IAAfQ,EAAc,EAAdA,SACTA,GACLA,EAASI,MAAK,SAAClB,EAAGmB,GAAJ,OAAUnB,EAAEiB,KAAOE,EAAEF,MAAQ,EAAI,QAGnDtB,EAAQU,GAERV,EAAQA,EAAMyB,QAAO,SAAAb,GAAI,OAAkB,IAAdA,EAAKU,QAGtCtB,EAAMuB,MAAK,SAAClB,EAAGmB,GAAJ,OAAUnB,EAAEiB,KAAOE,EAAEF,MAAQ,EAAI,KAE5C,EAAKhB,SAAS,CAACP,WAAW,YAAKC,GAAQA,QAAOF,SAAS,IA3ChD,wDA6CP,EAAKQ,SAAS,CAACR,SAAS,IA7CjB,+D,EAkDf4B,kBAAoB,SAAChC,GAAW,IACrBM,EAAS,EAAKH,MAAdG,MAEDD,EAAa4B,YAAW3B,GAAO,SAAA4B,GAEjC,MAAO,CADgBA,EAAhBP,KAAgBO,EAAVC,QACSC,MAAK,SAAAC,GAEvB,OADoBA,GAAO,IAAIC,cACbC,SAASvC,SAInC,EAAKY,SAAS,CACVP,gB,EAIRmC,aAAe,SAACxD,GAER,EAAKyD,OAAOC,aAAa,EAAKD,OAElC,EAAKA,MAAQE,YAAW,kBAAM,EAAKX,kBAAkBhD,EAAErC,OAAOqD,SAAQ,M,SR1GzCxD,E,GAAayD,E,gCQ8B9C,WAAqB,IAAD,OAChB,sBAAC,sBAAAU,EAAA,sEACS,EAAKD,eADd,0CAAD,K,oBA8EJ,WAAU,IAAD,EAIDtB,KAAKe,MAFLE,EAFC,EAEDA,WACAD,EAHC,EAGDA,QAHC,EAaDhB,KAAKxC,MANLoD,EAPC,EAODA,MACA4C,EARC,EAQDA,SACAC,EATC,EASDA,UATC,KAUDC,SAVC,EAWDC,yBAXC,MAWkB,iBAAO,IAXzB,EAYEC,EAZF,8EAeL,OACI,qCACI,qBAAKC,MAAO,CAACC,QAAS,EAAGC,QAAS,OAAQC,WAAY,UAAtD,SACI,kBAAOC,OAAP,CACIJ,MAAO,CAACK,KAAM,GACdC,YAAU,EACVC,YAAY,yDACZC,SAAUrE,KAAK4C,kBACfY,SAAUxD,KAAKoD,iBAGvB,cAACjD,EAAD,aACImE,YAAY,EACZC,KAAK,QACLC,aAAc,CACVb,mBACAc,gBAAiBhB,GAAa7C,GAAS,IAAI8D,KAAI,SAAA5C,GAAI,OAAIA,EAAKQ,MAAM1B,EAClE4C,SAAU,SAACiB,EAAiBE,GAAlB,OAAmCnB,EAASC,EAAYkB,EAAeF,KAErFzD,QAASA,EACTG,QAASnB,KAAKmB,QACdF,WAAYA,EACZ2D,YAAY,EACZC,OAAO,MACHjB,YRnJNtG,EAAkBF,EAAY0B,UAAW+B,GACrDC,GAAaxD,EAAkBF,EAAa0D,G,GQILgE,a,EAOlCC,aAAe,CAClBnE,MAAO,GACP4C,SAAU,aACVC,WAAW,G,SEdJlD,cAAO,CAClByE,MAAO,CACH5D,MAAO,SAAA5D,GAAU,IAAD,EACZ,cAAIA,QAAJ,IAAIA,GAAJ,UAAIA,EAAOyH,cAAX,OAAI,EAAeC,SAAiB,2BAE7B1H,EAAM2H,OAAS,2BAAS,4BAEnCC,MAAO,MACPC,IAAK,KARE9E,EAUZ,SAAc/C,GAAQ,IACdyH,EAAkCzH,EAAlCyH,OAAQE,EAA0B3H,EAA1B2H,OAAQG,EAAkB9H,EAAlB8H,KAAMC,EAAY/H,EAAZ+H,SADT,EAEUC,oBAAS,GAFnB,mBAEbxE,EAFa,KAEJyE,EAFI,OAGL,IAAKC,UAAbC,EAHa,oBAIdT,EAAQ,OAAGD,QAAH,IAAGA,OAAH,EAAGA,EAAQC,SAGzB1H,EAAMgD,KAAKoF,OAAO,aAAc,CAACtD,GAAE,OAAE2C,QAAF,IAAEA,OAAF,EAAEA,EAAQ3C,IAAK,GAAI,CAClDuD,UAAWV,EACXM,aACAK,aAAc,SAAApE,GACLA,GACLiE,EAAKI,eAAerE,MAZR,IAeRsE,EAAQxI,EAAMgD,KAAKyF,QAAQ,SAAU,KAAM,CAACR,aAAYS,WAAY,mCAAzEC,IACKC,EAAU5I,EAAMgD,KAAK6F,OAAO,SAAU,KAAM,CAACZ,aAAYS,WAAY,mCAA1EC,IACKG,EAAsB9I,EAAMgD,KAAKoF,OAAO,kBAA7CO,IAjBa,4CAmBpB,WAA4BI,GAA5B,mBAAAhF,EAAA,yDACUiF,EADV,UACoBD,EAAOC,eAD3B,aACoB,EAAgB7D,QAAO,SAAAL,GAAE,OAAK,UAAGA,GAAKmE,WAAW,eAC3DC,EAFV,2BAGWH,GAHX,IAIQC,aAGArB,EAPR,gCAQciB,EAAOM,GARrB,6CAUcV,EAAKU,GAVnB,OAaIpB,IAbJ,6CAnBoB,sBAmCpB,IAAMqB,EAAeC,YAAoB,uCAAC,WAAOC,EAAMjG,GAAb,iBAAAW,EAAA,yDACjCX,EADiC,iEAGnB0F,EAAmB,CAACQ,QAASlG,IAHV,UAGhCmG,EAHgC,2DAMhCzE,EAAKqD,EAAKqB,cAAc,OAC1B7B,GAAU4B,EAAKzE,KAAOA,GAAMyE,EAAKD,UAAYlG,EAPX,uBAOwBqG,MAAM,8CAP9B,WAQjC9B,GAAU4B,EAAKD,UAAYlG,EARM,uBAQOqG,MAAM,8CARb,4CAAD,yDAWnCvD,EAAWwB,EACXgC,EAAS,CACXC,SAAU,CAACjD,KAAM,SACjBR,YAEE0D,EAAY,CACdC,GAAI,CAACC,KAAM,IACXC,GAAI,CAACD,KAAM,KAEf,OACI,mBACI3B,KAAMA,EACNpD,KAAK,WACLiF,SA3DY,4CA4DZC,cAAe,CAACC,SAAS,GAJ7B,SAMI,eAAC,IAAD,CACI1G,QAASA,EACT2G,OAAO,eACPC,WAAW,SACXC,WAAW,eACXtC,SAAU,kBAAMI,EAAKmC,eACrBC,OAAQrE,EAAW,mBAAQsE,QAASzC,EAAjB,+BAAyC0C,EANhE,UAQK9C,EAAS,cAAC,IAAD,CAAU+C,QAAM,EAAC3F,KAAK,OAAS,KACzC,oBAAK4F,OAAQ,EAAb,UACI,6CAASf,GAAT,aACI,mBAAMhG,MAAM,2BAAZ,SACI,eAAC,IAAD,CAASgH,WAAS,EAACC,YAAa,IAAhC,UACI,cAAC,IAAD,2BACQnB,GADR,IAEIoB,MAAM,eACN/F,KAAK,UACLgG,UAAQ,EACRC,SAAO,EACPC,MAAO,CACH,CAACC,UAAW/B,OAGpB,cAAC,IAAD,2BACQO,GADR,IAEIoB,MAAM,eACN/F,KAAK,WACLgG,UAAQ,EACRC,SAAO,KAEX,cAAC,IAAD,2BACQtB,GADR,IAEI1E,KAAM,SACN8F,MAAM,eACN/F,KAAK,UACLoG,gBAAgB,SAChBC,kBAAkB,SAClBL,UAAQ,KAEZ,cAAC,IAAD,2BACQrB,GADR,IAEIoB,MAAM,eACN/F,KAAK,OACLgG,UAAQ,EACRC,SAAO,KAEX,cAAC,IAAD,2BACQtB,GADR,IAEIoB,MAAM,eACN/F,KAAK,QACLkG,MAAO,CAACI,IAAcC,SACtBP,UAAQ,EACRC,SAAO,KAEX,cAAC,IAAD,2BACQtB,GADR,IAEIoB,MAAM,qBACN/F,KAAK,SACLkG,MAAO,CAACI,IAAcE,UACtBR,UAAQ,EACRC,SAAO,aAKvB,6CAASpB,GAAT,aACI,mBAAMhG,MAAM,2BAAO4H,UAAW,CAAClF,QAAS,GAAxC,SACI,cAAC,IAAD,2BACQoD,GADR,IAEI3E,KAAK,UAFT,SAII,cAAC,EAAD,CACI6F,WAAS,EACTC,YAAa,IACb1E,iBAAkB,iBAAO,CAACD,kCC/I/CnD,sBAAO,CAClB0I,KAAM,UADK1I,EAEZ,SAAc/C,GAAQ,IAAD,EACUgI,oBAAS,GADnB,mBACbxE,EADa,KACJyE,EADI,OAEUD,mBAAS,GAFnB,mBAEb0D,EAFa,KAEJC,EAFI,OAGY3D,mBAAS,IAHrB,mBAGb4D,EAHa,KAGHC,EAHG,OAIgB7D,mBAAS,IAJzB,mBAIb8D,EAJa,KAIDC,EAJC,OAKU/D,oBAAS,GALnB,mBAKbgE,EALa,KAKJC,EALI,OAMQjE,mBAAS,MANjB,mBAMbP,EANa,KAMLyE,EANK,OAOL,IAAKhE,UAAbC,EAPa,oBASde,EAAM,2BACL4C,GADK,IAERJ,UACAE,aAZgB,EAqBhB5L,EAAMgD,KAAKoF,OAAO,SAAUc,EAAQ,CAAC4C,EAAYJ,EAASE,GAAW,CACrE3D,aACAK,aAAc,SAAApE,GACV,MAAO,CACHT,YAAe,OAAHS,QAAG,IAAHA,OAAA,EAAAA,EAAKiI,OAAQ,GACzBC,MAAOlI,EAAIkI,OAAS,MAT5BC,KACI5I,GAlBY,aAoBZ,GApBY,GAkBZA,WACA2I,EAnBY,EAmBZA,MAaIE,EAAgBtM,EAAMgD,KAAKuJ,OAAO,aAAc,KAAM,CAACtE,aAAYS,WAAY,mCAApFC,IAEDhF,EAAU,CACZ,CAACC,MAAO,eAAMC,UAAW,WACzB,CAACD,MAAO,eAAMC,UAAW,QACzB,CAACD,MAAO,eAAMC,UAAW,UAAW2I,OAAQ,SAAApJ,GAAK,OAAIqJ,IAAQvC,QAAQwC,SAAStJ,KAC9E,CAACQ,MAAO,qBAAOC,UAAW,UAC1B,CAACD,MAAO,eAAMC,UAAW,SACzB,CACID,MAAO,eACPnD,IAAK,WACLmH,MAAO,IACP4E,OAAQ,SAACpJ,EAAOqE,GAAY,IACjB3C,EAAY2C,EAAZ3C,GAAIC,EAAQ0C,EAAR1C,KACL4H,EAAQ,CACV,CACI7B,MAAO,eACPN,QAAS,kBAAM0B,EAAU,2BAAIzE,GAAL,IAAaC,UAAU,MAAUuE,GAAW,KAExE,CACInB,MAAO,eACPN,QAAS,kBAAM0B,EAAUzE,IAAWwE,GAAW,KAEnD,CACInB,MAAO,eACP8B,MAAO,MACPC,QAAS,CACLjJ,MAAM,uCAAD,OAAWmB,EAAX,sBACL+H,UAAW,kBA5Df,2CA4DqBC,CAAajI,OAK1C,OAAQ,cAAC,IAAD,CAAU6H,MAAOA,OAjEjB,4CAsEpB,WAA4B7H,GAA5B,SAAAf,EAAA,sEACUuI,EAAaxH,GADvB,OAGIiH,EAAc,eAAID,IAHtB,4CAtEoB,sBA4EpB,IAAMkB,EAAY,CACd3G,MAAO,CAACuB,MAAO,MAGnB,OACI,eAAC,IAAD,CAAapE,QAASA,EAAtB,UACI,cAAC,IAAD,UACI,oBACIuB,KAAK,OACL2E,OAAO,SACPvB,KAAMA,EACN6B,SAAU,SAAAjB,GAAM,OAAI4C,EAAW,IAAMI,EAAchD,IAJvD,UAMI,cAAC,IAAD,2BACQiE,GADR,IAEIlC,MAAM,eACN/F,KAAK,aAET,cAAC,IAAD,2BACQiI,GADR,IAEIlC,MAAM,eACN/F,KAAK,UAET,cAAC,IAAD,2BACQiI,GADR,IAEIlC,MAAM,qBACN/F,KAAK,YAET,cAAC,IAAD,UACI,8BACI,mBAAQC,KAAK,UAAUiI,SAAS,SAAhC,0BACA,mBAAQzC,QAAS,kBAAMrC,EAAKmC,eAA5B,oCAKhB,cAAC,IAAD,UACI,mBAAQtF,KAAK,UAAUwF,QAAS,kBAAM0B,EAAU,OAASD,GAAW,IAApE,4BAEJ,cAAC,IAAD,CACIiB,cAAY,EACZxB,QAASA,EACTE,SAAUA,EACVhB,WAAS,EACTnH,WAAYA,EACZE,QAASA,EACT0D,OAAO,OAEX,cAAC,IAAD,CACI+E,MAAOA,EACPV,QAASA,EACTE,SAAUA,EACVuB,gBAAiBxB,EACjByB,iBAAkB,SAAAxB,GAAQ,OAAID,EAAW,IAAME,EAAYD,MAE/D,cAACyB,EAAD,CACIrB,QAASA,EACTvE,OAAQA,EACRE,SAAUF,EACVK,KAAM,kBAAMmE,GAAW,IAAUF,EAAc,eAAID,KACnD/D,SAAU,kBAAMkE,GAAW,a,0GCvIrCQ,EAAU,CAEZa,WAAY,CACR,CAAClK,MAAO,OAAQ0H,MAAO,4BACvB,CAAC1H,MAAO,UAAW0H,MAAO,kCAC1B,CAAC1H,MAAO,SAAU0H,MAAO,wCACzB,CAAC1H,MAAO,QAAS0H,MAAO,0DACxB,CAAC1H,MAAO,SAAU0H,MAAO,2DAG7ByC,MAAO,CACH,CAACnK,OAAO,EAAM0H,MAAO,SAAK0C,IAAK,mBAAKZ,MAAM,QAAX,qBAC/B,CAACxJ,OAAO,EAAO0H,MAAO,SAAK0C,IAAK,mBAAKZ,MAAM,MAAX,sBAGpC1C,QAAS,CACL,CAAC9G,OAAO,EAAM0H,MAAO,eAAM0C,IAAK,mBAAKZ,MAAM,QAAX,2BAChC,CAACxJ,OAAO,EAAO0H,MAAO,eAAM0C,IAAK,mBAAKZ,MAAM,MAAX,4BAGrCa,IAAK,CACD,CAACrK,MAAO,IAAK0H,MAAO,UACpB,CAAC1H,MAAO,IAAK0H,MAAO,UACpB,CAAC1H,MAAO,IAAK0H,MAAO,iBAGlBpG,OA1BM,WA0BI,OAAD,0HACQ1B,IAAKiB,IAAI,YADjB,cACLkI,EADK,yBAEJA,EAAKjF,KAAI,SAAA5C,GACZ,MAAO,CACHlB,MAAOkB,EAAKQ,GACZgG,MAAOxG,EAAKV,MACZ8J,KAAMpJ,OANH,8CAUfqJ,OApCY,WAqCR,MAAO,CACH,CAACvK,MAAO,MAAO0H,MAAO,kBAK9B,WACI,MAAO,KAIf8C,YAAenB,EAAS,KAETA,O,kCCpEf,c,kCCAA,c,kCCAA,aACeoB,MAAf,G,kCCDA,aACeC,MAAf,G,kCCDA,sC,kHCGIC,EAAgC,SAAUC,EAAG5L,GAC/C,IAAI6L,EAAI,GAER,IAAK,IAAIrN,KAAKoN,EACRzN,OAAOe,UAAU4M,eAAezM,KAAKuM,EAAGpN,IAAMwB,EAAE+L,QAAQvN,GAAK,IAAGqN,EAAErN,GAAKoN,EAAEpN,IAG/E,GAAS,MAALoN,GAAqD,oBAAjCzN,OAAO6N,sBAA2C,KAAInO,EAAI,EAAb,IAAgBW,EAAIL,OAAO6N,sBAAsBJ,GAAI/N,EAAIW,EAAEV,OAAQD,IAClImC,EAAE+L,QAAQvN,EAAEX,IAAM,GAAKM,OAAOe,UAAU+M,qBAAqB5M,KAAKuM,EAAGpN,EAAEX,MAAKgO,EAAErN,EAAEX,IAAM+N,EAAEpN,EAAEX,KAEhG,OAAOgO,GAwBMK,EAjBJ,SAAcC,GACvB,IAAIC,EAAYD,EAAGC,UACfC,EAAYF,EAAGE,UACfC,EAAeH,EAAGI,UAClBA,OAA6B,IAAjBD,GAAiCA,EAC7C1O,EAAQ+N,EAAOQ,EAAI,CAAC,YAAa,YAAa,cAElD,OAAoBK,gBAAoBC,IAAgB,MAAM,SAAUC,GACtE,IACIC,GAASC,EADMF,EAAKE,cACE,OAAQR,GAC9BS,EAAcC,IAAW,GAAGC,OAAOJ,EAAQ,SAAUN,EAAWW,YAAgB,GAAI,GAAGD,OAAOJ,EAAQ,mBAAoBJ,IAC9H,OAAoBC,gBAAoB,MAAOS,YAAS,GAAIrP,EAAO,CACjEyO,UAAWQ,SC9BblB,EAAgC,SAAUC,EAAG5L,GAC/C,IAAI6L,EAAI,GAER,IAAK,IAAIrN,KAAKoN,EACRzN,OAAOe,UAAU4M,eAAezM,KAAKuM,EAAGpN,IAAMwB,EAAE+L,QAAQvN,GAAK,IAAGqN,EAAErN,GAAKoN,EAAEpN,IAG/E,GAAS,MAALoN,GAAqD,oBAAjCzN,OAAO6N,sBAA2C,KAAInO,EAAI,EAAb,IAAgBW,EAAIL,OAAO6N,sBAAsBJ,GAAI/N,EAAIW,EAAEV,OAAQD,IAClImC,EAAE+L,QAAQvN,EAAEX,IAAM,GAAKM,OAAOe,UAAU+M,qBAAqB5M,KAAKuM,EAAGpN,EAAEX,MAAKgO,EAAErN,EAAEX,IAAM+N,EAAEpN,EAAEX,KAEhG,OAAOgO,GAsCMqB,EA/BJ,SAActP,GACvB,OAAoB4O,gBAAoBC,IAAgB,MAAM,SAAUC,GACtE,IAAIE,EAAeF,EAAKE,aAEpBO,EAAqBvP,EAAMwO,UAC3BC,EAAYzO,EAAMyO,UAClBe,EAASxP,EAAMwP,OACf5L,EAAQ5D,EAAM4D,MACd6L,EAAczP,EAAMyP,YACpBrJ,EAAS2H,EAAO/N,EAAO,CAAC,YAAa,YAAa,SAAU,QAAS,gBAErEwO,EAAYQ,EAAa,OAAQO,GACjCN,EAAcC,IAAW,GAAGC,OAAOX,EAAW,SAAUC,GACxDiB,EAAYF,EAAsBZ,gBAAoB,MAAO,CAC/DH,UAAW,GAAGU,OAAOX,EAAW,iBAC/BgB,GAAU,KACTG,EAAW/L,EAAqBgL,gBAAoB,MAAO,CAC7DH,UAAW,GAAGU,OAAOX,EAAW,gBAC/B5K,GAAS,KACRgM,EAAiBH,EAA2Bb,gBAAoB,MAAO,CACzEH,UAAW,GAAGU,OAAOX,EAAW,sBAC/BiB,GAAe,KACdI,EAAaF,GAAYC,EAA8BhB,gBAAoB,MAAO,CACpFH,UAAW,GAAGU,OAAOX,EAAW,iBAC/BmB,EAAUC,GAAkB,KAC/B,OAAoBhB,gBAAoB,MAAOS,YAAS,GAAIjJ,EAAQ,CAClEqI,UAAWQ,IACTS,EAAWG,O,qCC3Cf9B,EAAgC,SAAUC,EAAG5L,GAC/C,IAAI6L,EAAI,GAER,IAAK,IAAIrN,KAAKoN,EACRzN,OAAOe,UAAU4M,eAAezM,KAAKuM,EAAGpN,IAAMwB,EAAE+L,QAAQvN,GAAK,IAAGqN,EAAErN,GAAKoN,EAAEpN,IAG/E,GAAS,MAALoN,GAAqD,oBAAjCzN,OAAO6N,sBAA2C,KAAInO,EAAI,EAAb,IAAgBW,EAAIL,OAAO6N,sBAAsBJ,GAAI/N,EAAIW,EAAEV,OAAQD,IAClImC,EAAE+L,QAAQvN,EAAEX,IAAM,GAAKM,OAAOe,UAAU+M,qBAAqB5M,KAAKuM,EAAGpN,EAAEX,MAAKgO,EAAErN,EAAEX,IAAM+N,EAAEpN,EAAEX,KAEhG,OAAOgO,GA8BT,IAAI6B,EAAO,SAAc9P,GACvB,IAAI+P,EAAWC,EA8FXC,EA5FAC,EAAoBtB,aAAiBuB,KACrCnB,EAAekB,EAAkBlB,aACjCoB,EAAYF,EAAkBE,UAE9BrJ,EAAO6H,aAAiByB,KAkBxBd,EAAqBvP,EAAMwO,UAC3BC,EAAYzO,EAAMyO,UAClB6B,EAAQtQ,EAAMsQ,MACdC,EAAmBvQ,EAAMwQ,UACzBA,OAAiC,IAArBD,EAA8B,GAAKA,EAC/CE,EAAmBzQ,EAAMwL,UACzBA,OAAiC,IAArBiF,EAA8B,GAAKA,EAC/C7M,EAAQ5D,EAAM4D,MACdJ,EAAUxD,EAAMwD,QAChBkN,EAAkB1Q,EAAM2Q,SACxBA,OAA+B,IAApBD,GAAoCA,EAC/CE,EAAgB5Q,EAAM+G,KACtB/B,EAAOhF,EAAMgF,KACb6L,EAAQ7Q,EAAM6Q,MACdC,EAAU9Q,EAAM8Q,QAChBC,EAAU/Q,EAAM+Q,QAChBlM,EAAW7E,EAAM6E,SACjBmM,EAAehR,EAAMgR,aACrBC,EAAsBjR,EAAMiR,oBAC5BC,EAAqBlR,EAAMkR,mBAC3BvC,EAAY3O,EAAM2O,UAClBwC,EAAkBnR,EAAMoR,SACxBA,OAA+B,IAApBD,EAA6B,GAAKA,EAC7C/K,EAAS2H,EAAO/N,EAAO,CAAC,YAAa,YAAa,QAAS,YAAa,YAAa,QAAS,UAAW,WAAY,OAAQ,OAAQ,QAAS,UAAW,UAAW,WAAY,eAAgB,sBAAuB,qBAAsB,YAAa,aAE1PwO,EAAYQ,EAAa,OAAQO,GACjC8B,EAA0C,IAAtB7F,EAAUlF,SAAuC,QAAtBkF,EAAUlF,QAAoB,CAC/EA,QAAS,SACPmE,EACA6G,EAAqB1C,gBAAoB,MAAO,CAClDH,UAAW,GAAGU,OAAOX,EAAW,oBAE9B+C,EAA4B3C,gBAAoB,MAAO,CACzDH,UAAW,GAAGU,OAAOX,EAAW,oBAChCnI,MAAOgL,GACOzC,gBAAoBf,IAAK,CACvClD,OAAQ,GACMiE,gBAAoBd,IAAK,CACvChE,KAAM,IACLwH,IAAsB1C,gBAAoBf,IAAK,CAChDlD,OAAQ,GACMiE,gBAAoBd,IAAK,CACvChE,KAAM,GACLwH,GAAqB1C,gBAAoBd,IAAK,CAC/ChE,KAAM,IACLwH,IAAsB1C,gBAAoBf,IAAK,CAChDlD,OAAQ,GACMiE,gBAAoBd,IAAK,CACvChE,KAAM,GACLwH,GAAqB1C,gBAAoBd,IAAK,CAC/ChE,KAAM,IACLwH,IAAsB1C,gBAAoBf,IAAK,CAChDlD,OAAQ,GACMiE,gBAAoBd,IAAK,CACvChE,KAAM,IACLwH,GAAqB1C,gBAAoBd,IAAK,CAC/ChE,KAAM,GACLwH,IAAsB1C,gBAAoBf,IAAK,CAChDlD,OAAQ,GACMiE,gBAAoBd,IAAK,CACvChE,KAAM,GACLwH,GAAqB1C,gBAAoBd,IAAK,CAC/ChE,KAAM,GACLwH,GAAqB1C,gBAAoBd,IAAK,CAC/ChE,KAAM,IACLwH,KACCE,OAAmC/G,IAAjBuG,EAElBS,EAAapC,YAASA,YAAS,GAAI+B,IAAYrB,EAAY,GAAIX,YAAgBW,EAAWyB,EAAkB,YAAc,mBAAoBA,EAAkBR,EAAeC,GAAsB7B,YAAgBW,EAAW,qBAAsBmB,GAAqBnB,IAG3Q2B,EAAOX,GAAWA,EAAQ7Q,OAAsB0O,gBAAoB+C,IAAMtC,YAAS,CACrFtI,KAAM,SACL0K,EAAY,CACbhD,UAAW,GAAGU,OAAOX,EAAW,cAChCxI,SA3FgB,SAAqBvF,GACrC,IAAI8N,EAEyB,QAA5BA,EAAKvO,EAAM4R,mBAAgC,IAAPrD,GAAyBA,EAAG9M,KAAKzB,EAAOS,MAyF3EsQ,EAAQ7J,KAAI,SAAU5C,GACxB,OAAoBsK,gBAAoB+C,IAAKE,QAAS,CACpDC,IAAKxN,EAAKwN,IACV5L,SAAU5B,EAAK4B,SACfzF,IAAK6D,EAAK7D,UAER,MAEFmD,GAAS0M,GAASoB,KACpBzB,EAAoBrB,gBAAoB,MAAO,CAC7CH,UAAW,GAAGU,OAAOX,EAAW,SAChCnI,MAAOmK,GACO5B,gBAAoB,MAAO,CACzCH,UAAW,GAAGU,OAAOX,EAAW,kBAC/B5K,GAAsBgL,gBAAoB,MAAO,CAClDH,UAAW,GAAGU,OAAOX,EAAW,gBAC/B5K,GAAQ0M,GAAsB1B,gBAAoB,MAAO,CAC1DH,UAAW,GAAGU,OAAOX,EAAW,WAC/B8B,IAASoB,IAGd,IAAIK,EAAWlB,EAAqBjC,gBAAoB,MAAO,CAC7DH,UAAW,GAAGU,OAAOX,EAAW,WAC/BqC,GAAS,KACRmB,EAAoBpD,gBAAoB,MAAO,CACjDH,UAAW,GAAGU,OAAOX,EAAW,SAChCnI,MAAOmF,GACNhI,EAAU+N,EAAe1M,GACxBoN,EAAYnB,GAAWA,EAAQ5Q,OAAsB0O,gBAAoB,KAAM,CACjFH,UAAW,GAAGU,OAAOX,EAAW,aAlJpC,SAAmBsC,GAajB,OAZiBA,EAAQ5J,KAAI,SAAUyG,EAAQuE,GAC7C,OAGEtD,gBAAoB,KAAM,CACxBvI,MAAO,CACLuB,MAAO,GAAGuH,OAAO,IAAM2B,EAAQ5Q,OAAQ,MAEzCO,IAAK,UAAU0O,OAAO+C,IACRtD,gBAAoB,OAAQ,KAAMjB,OAyInDwE,CAAUrB,IAAY,KACrBsB,GAAWC,YAAKjM,EAAQ,CAAC,gBACzBkM,GAAa1B,GAAiB7J,EAC9BkI,GAAcC,IAAWV,GAAYwB,EAAc,GAAIZ,YAAgBY,EAAa,GAAGb,OAAOX,EAAW,YAAahL,GAAU4L,YAAgBY,EAAa,GAAGb,OAAOX,EAAW,aAAcmC,GAAWvB,YAAgBY,EAAa,GAAGb,OAAOX,EAAW,cAAeG,GAAYS,YAAgBY,EAAa,GAAGb,OAAOX,EAAW,iBAvH1T,WAClB,IAAI+D,EAMJ,OALA3D,WAAevK,QAAQrE,EAAM6E,UAAU,SAAU2N,GAC3CA,GAAWA,EAAQxN,MAAQwN,EAAQxN,OAASsJ,IAC9CiE,GAAc,MAGXA,EAgHuVE,IAAkBrD,YAAgBY,EAAa,GAAGb,OAAOX,EAAW,iBAAkBuC,GAAWA,EAAQ7Q,QAASkP,YAAgBY,EAAa,GAAGb,OAAOX,EAAW,KAAKW,OAAOmD,IAAaA,IAAalD,YAAgBY,EAAa,GAAGb,OAAOX,EAAW,UAAUW,OAAOnK,KAASA,GAAOoK,YAAgBY,EAAa,GAAGb,OAAOX,EAAW,QAAuB,QAAd4B,GAAsBJ,GAAcvB,GAC5tB,OAAoBG,gBAAoB,MAAOS,YAAS,GAAI+C,GAAU,CACpE3D,UAAWQ,KACTgB,EAAM8B,EAAUC,EAAMC,IAG5BnC,EAAKxB,KAAOA,EACZwB,EAAKR,KAAOA,EACGQ","file":"static/js/6.50d89918.chunk.js","sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {Input} from 'antd';\nimport {\n    renderTableCheckbox,\n    Table,\n    filterTree,\n} from '@ra-lib/admin';\nimport config from 'src/commons/config-hoc';\nimport {WITH_SYSTEMS} from 'src/config';\n\nconst WithCheckboxTable = renderTableCheckbox(Table);\n\n@config({\n    ajax: true,\n})\nexport default class RoleSelectTable extends Component {\n    static propTypes = {\n        value: PropTypes.array,     // 选中的节点\n        onChange: PropTypes.func,   // 选择节点时，触发\n        fullValue: PropTypes.bool,  // value是否是角色全部数据\n    };\n\n    static defaultProps = {\n        value: [],\n        onChange: () => void 0,\n        fullValue: false,\n    };\n\n    state = {\n        loading: false,\n        dataSource: [], // table展示的角色数据，搜索时是roles子集\n        roles: [],      // 所有的角色数据\n    };\n\n    columns = [\n        {title: '角色名', dataIndex: 'name', key: 'name'},\n        {title: '描述', dataIndex: 'remark', key: 'remark'},\n    ];\n\n    componentDidMount() {\n        (async () => {\n            await this.handleSearch();\n        })();\n    }\n\n    handleSearch = async () => {\n        if (this.state.loading) return;\n\n        try {\n            this.setState({loading: true});\n            const res = await this.props.ajax.get('/roles');\n\n            let roles = (res || []);\n            if (WITH_SYSTEMS) {\n                const systems = [];\n                roles.forEach(item => {\n                    const {systemId, systemName} = item;\n                    if (!systemId) return systems.push(item);\n\n                    let system = systems.find(sys => sys.systemId === systemId);\n                    if (!system) {\n                        system = {\n                            id: `systemId-${systemId}`,\n                            systemId,\n                            name: systemName,\n                            type: 4,\n                            children: [\n                                item,\n                            ],\n                        };\n                        systems.push(system);\n                    } else {\n                        system.children.push(item);\n                    }\n                });\n                systems.sort((a, b) => a.type < b.type ? -1 : 1);\n                systems.forEach(({children}) => {\n                    if (!children) return;\n                    children.sort((a, b) => a.type < b.type ? -1 : 1);\n                });\n\n                roles = systems;\n            } else {\n                roles = roles.filter(item => item.type !== 2);\n            }\n\n            roles.sort((a, b) => a.type < b.type ? -1 : 1);\n\n            this.setState({dataSource: [...roles], roles, loading: false});\n        } catch (e) {\n            this.setState({loading: false});\n            throw e;\n        }\n    };\n\n    handleSearchValue = (value) => {\n        const {roles} = this.state;\n\n        const dataSource = filterTree(roles, node => {\n            const {name, remark} = node;\n            return [name, remark].some(val => {\n                const lowerValue = (val || '').toLowerCase();\n                return lowerValue.includes(value);\n            });\n        });\n\n        this.setState({\n            dataSource,\n        });\n    };\n\n    handleChange = (e) => {\n        // 防抖\n        if (this.timer) clearTimeout(this.timer);\n\n        this.timer = setTimeout(() => this.handleSearchValue(e.target.value), 300);\n    };\n\n    render() {\n        const {\n            dataSource,\n            loading,\n        } = this.state;\n\n        const {\n            value,\n            onChange,\n            fullValue,\n            disabled,\n            getCheckboxProps = () => ({}),\n            ...others\n        } = this.props;\n\n        return (\n            <>\n                <div style={{padding: 8, display: 'flex', alignItems: 'center'}}>\n                    <Input.Search\n                        style={{flex: 1}}\n                        allowClear\n                        placeholder=\"输入关键字进行搜索\"\n                        onSearch={this.handleSearchValue}\n                        onChange={this.handleChange}\n                    />\n                </div>\n                <WithCheckboxTable\n                    showHeader={true}\n                    size=\"small\"\n                    rowSelection={{\n                        getCheckboxProps,\n                        selectedRowKeys: fullValue ? (value || []).map(item => item.id) : value,\n                        onChange: (selectedRowKeys, selectedRows) => onChange(fullValue ? selectedRows : selectedRowKeys),\n                    }}\n                    loading={loading}\n                    columns={this.columns}\n                    dataSource={dataSource}\n                    pagination={false}\n                    rowKey=\"id\"\n                    {...others}\n                />\n            </>\n        );\n    }\n}\n\n","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import {useState} from 'react';\nimport {Form, Row, Col, Card, Button} from 'antd';\nimport {\n    ModalContent,\n    FormItem,\n    Content,\n    validateRules,\n    useDebounceValidator,\n} from '@ra-lib/admin';\nimport config from 'src/commons/config-hoc';\nimport RoleSelectTable from 'src/pages/role/RoleSelectTable';\n\nexport default config({\n    modal: {\n        title: props => {\n            if (props?.record?.isDetail) return '查看用户';\n\n            return props.isEdit ? '编辑用户' : '创建用户';\n        },\n        width: '70%',\n        top: 50,\n    },\n})(function Edit(props) {\n    const {record, isEdit, onOk, onCancel} = props;\n    const [loading, setLoading] = useState(false);\n    const [form] = Form.useForm();\n    const isDetail = record?.isDetail;\n\n    // 编辑时，查询详情数据\n    props.ajax.useGet('/users/:id', {id: record?.id}, [], {\n        mountFire: isEdit,\n        setLoading,\n        formatResult: res => {\n            if (!res) return;\n            form.setFieldsValue(res);\n        },\n    });\n    const {run: save} = props.ajax.usePost('/users', null, {setLoading, successTip: '创建成功！'});\n    const {run: update} = props.ajax.usePut('/users', null, {setLoading, successTip: '修改成功！'});\n    const {run: fetchUserByAccount} = props.ajax.useGet('/userByAccount');\n\n    async function handleSubmit(values) {\n        const roleIds = values.roleIds?.filter(id => !`${id}`.startsWith('systemId'));\n        const params = {\n            ...values,\n            roleIds,\n        };\n\n        if (isEdit) {\n            await update(params);\n        } else {\n            await save(params);\n        }\n\n        onOk();\n    }\n\n    const checkAccount = useDebounceValidator(async (rule, value) => {\n        if (!value) return;\n\n        const user = await fetchUserByAccount({account: value});\n        if (!user) return;\n\n        const id = form.getFieldValue('id');\n        if (isEdit && user.id !== id && user.account === value) throw Error('账号不能重复！');\n        if (!isEdit && user.account === value) throw Error('账号不能重复！');\n    });\n\n    const disabled = isDetail;\n    const layout = {\n        labelCol: {flex: '100px'},\n        disabled,\n    };\n    const colLayout = {\n        xs: {span: 24},\n        sm: {span: 12},\n    };\n    return (\n        <Form\n            form={form}\n            name=\"roleEdit\"\n            onFinish={handleSubmit}\n            initialValues={{enabled: true}}\n        >\n            <ModalContent\n                loading={loading}\n                okText=\"保存\"\n                okHtmlType=\"submit\"\n                cancelText=\"重置\"\n                onCancel={() => form.resetFields()}\n                footer={disabled ? <Button onClick={onCancel}>关闭</Button> : undefined}\n            >\n                {isEdit ? <FormItem hidden name=\"id\"/> : null}\n                <Row gutter={8}>\n                    <Col {...colLayout}>\n                        <Card title=\"基础信息\">\n                            <Content fitHeight otherHeight={160}>\n                                <FormItem\n                                    {...layout}\n                                    label=\"账号\"\n                                    name=\"account\"\n                                    required\n                                    noSpace\n                                    rules={[\n                                        {validator: checkAccount},\n                                    ]}\n                                />\n                                <FormItem\n                                    {...layout}\n                                    label=\"密码\"\n                                    name=\"password\"\n                                    required\n                                    noSpace\n                                />\n                                <FormItem\n                                    {...layout}\n                                    type={'switch'}\n                                    label=\"启用\"\n                                    name=\"enabled\"\n                                    checkedChildren=\"启\"\n                                    unCheckedChildren=\"禁\"\n                                    required\n                                />\n                                <FormItem\n                                    {...layout}\n                                    label=\"姓名\"\n                                    name=\"name\"\n                                    required\n                                    noSpace\n                                />\n                                <FormItem\n                                    {...layout}\n                                    label=\"邮箱\"\n                                    name=\"email\"\n                                    rules={[validateRules.email()]}\n                                    required\n                                    noSpace\n                                />\n                                <FormItem\n                                    {...layout}\n                                    label=\"手机号\"\n                                    name=\"mobile\"\n                                    rules={[validateRules.mobile()]}\n                                    required\n                                    noSpace\n                                />\n                            </Content>\n                        </Card>\n                    </Col>\n                    <Col {...colLayout}>\n                        <Card title=\"角色配置\" bodyStyle={{padding: 0}}>\n                            <FormItem\n                                {...layout}\n                                name=\"roleIds\"\n                            >\n                                <RoleSelectTable\n                                    fitHeight\n                                    otherHeight={200}\n                                    getCheckboxProps={() => ({disabled})}\n                                />\n                            </FormItem>\n                        </Card>\n                    </Col>\n                </Row>\n            </ModalContent>\n        </Form>\n    );\n});\n","import {useState} from 'react';\nimport {Button, Form, Space} from 'antd';\nimport {\n    PageContent,\n    QueryBar,\n    FormItem,\n    Table,\n    Pagination,\n    Operator,\n    ToolBar,\n} from '@ra-lib/admin';\nimport config from 'src/commons/config-hoc';\nimport options from 'src/options';\nimport EditModal from './EditModal';\n\nexport default config({\n    path: '/users',\n})(function User(props) {\n    const [loading, setLoading] = useState(false);\n    const [pageNum, setPageNum] = useState(1);\n    const [pageSize, setPageSize] = useState(20);\n    const [conditions, setConditions] = useState({});\n    const [visible, setVisible] = useState(false);\n    const [record, setRecord] = useState(null);\n    const [form] = Form.useForm();\n\n    const params = {\n        ...conditions,\n        pageNum,\n        pageSize,\n    };\n\n    // 获取列表\n    const {\n        data: {\n            dataSource,\n            total,\n        } = {},\n    } = props.ajax.useGet('/users', params, [conditions, pageNum, pageSize], {\n        setLoading,\n        formatResult: res => {\n            return {\n                dataSource: res?.list || [],\n                total: res.total || 0,\n            };\n        },\n    });\n\n    // 删除\n    const {run: deleteRecord} = props.ajax.useDel('/users/:id', null, {setLoading, successTip: '删除成功！'});\n\n    const columns = [\n        {title: '账号', dataIndex: 'account'},\n        {title: '姓名', dataIndex: 'name'},\n        {title: '启用', dataIndex: 'enabled', render: value => options.enabled.getTag(!!value)},\n        {title: '手机号', dataIndex: 'mobile'},\n        {title: '邮箱', dataIndex: 'email'},\n        {\n            title: '操作',\n            key: 'operator',\n            width: 250,\n            render: (value, record) => {\n                const {id, name} = record;\n                const items = [\n                    {\n                        label: '查看',\n                        onClick: () => setRecord({...record, isDetail: true}) || setVisible(true),\n                    },\n                    {\n                        label: '修改',\n                        onClick: () => setRecord(record) || setVisible(true),\n                    },\n                    {\n                        label: '删除',\n                        color: 'red',\n                        confirm: {\n                            title: `您确定删除「${name}」吗？`,\n                            onConfirm: () => handleDelete(id),\n                        },\n                    },\n                ];\n\n                return (<Operator items={items}/>);\n            },\n        },\n    ];\n\n    async function handleDelete(id) {\n        await deleteRecord(id);\n        // 触发列表更新\n        setConditions({...conditions});\n    }\n\n    const queryItem = {\n        style: {width: 200},\n    };\n\n    return (\n        <PageContent loading={loading}>\n            <QueryBar>\n                <Form\n                    name=\"user\"\n                    layout=\"inline\"\n                    form={form}\n                    onFinish={values => setPageNum(1) || setConditions(values)}\n                >\n                    <FormItem\n                        {...queryItem}\n                        label=\"账号\"\n                        name=\"account\"\n                    />\n                    <FormItem\n                        {...queryItem}\n                        label=\"姓名\"\n                        name=\"name\"\n                    />\n                    <FormItem\n                        {...queryItem}\n                        label=\"手机号\"\n                        name=\"mobile\"\n                    />\n                    <FormItem>\n                        <Space>\n                            <Button type=\"primary\" htmlType=\"submit\">查询</Button>\n                            <Button onClick={() => form.resetFields()}>重置</Button>\n                        </Space>\n                    </FormItem>\n                </Form>\n            </QueryBar>\n            <ToolBar>\n                <Button type=\"primary\" onClick={() => setRecord(null) || setVisible(true)}>添加</Button>\n            </ToolBar>\n            <Table\n                serialNumber\n                pageNum={pageNum}\n                pageSize={pageSize}\n                fitHeight\n                dataSource={dataSource}\n                columns={columns}\n                rowKey=\"id\"\n            />\n            <Pagination\n                total={total}\n                pageNum={pageNum}\n                pageSize={pageSize}\n                onPageNumChange={setPageNum}\n                onPageSizeChange={pageSize => setPageNum(1) || setPageSize(pageSize)}\n            />\n            <EditModal\n                visible={visible}\n                record={record}\n                isEdit={!!record}\n                onOk={() => setVisible(false) || setConditions({...conditions})}\n                onCancel={() => setVisible(false)}\n            />\n        </PageContent>\n    );\n});\n","import {Tag} from 'antd';\nimport ajax from 'src/commons/ajax';\nimport {wrapperOptions} from '@ra-lib/admin';\n\n/**\n * 项目中可能用到的一些枚举类数据\n * 约定只含有三个参数，\n * {\n *  value: 1,      // 必须且不可重复\n *  label: '名称', // 必须\n *  meta: {},     // 其他数据，可缺省\n *  tag: Tag      // 标签\n * };\n *\n * // 扩展方法\n * options.menuTarget.getLabel('menu')\n * options.yesNo.getTag(true);\n * */\nconst options = {\n    // 菜单目标\n    menuTarget: [\n        {value: 'menu', label: '应用菜单'},\n        {value: 'qiankun', label: '乾坤子应用'},\n        {value: 'iframe', label: 'iframe内嵌第三方'},\n        {value: '_self', label: '当前窗口打开第三方'},\n        {value: '_blank', label: '新开窗口打开第三方'},\n    ],\n    // 是否\n    yesNo: [\n        {value: true, label: '是', tag: <Tag color=\"green\">是</Tag>},\n        {value: false, label: '否', tag: <Tag color=\"red\">否</Tag>},\n    ],\n    // 启用、禁用\n    enabled: [\n        {value: true, label: '启用', tag: <Tag color=\"green\">启用</Tag>},\n        {value: false, label: '禁用', tag: <Tag color=\"red\">禁用</Tag>},\n    ],\n    // 性别\n    sex: [\n        {value: '1', label: '男'},\n        {value: '2', label: '女'},\n        {value: '3', label: '未知'},\n    ],\n    // 可以是函数，异步或同步都可以\n    async system() {\n        const list = await ajax.get('/systems');\n        return list.map(item => {\n            return {\n                value: item.id,\n                label: item.title,\n                meta: item,\n            };\n        });\n    },\n    action() {\n        return [\n            {value: 'add', label: '添加'},\n        ];\n        // throw Error('获取失败了');\n    },\n    // 使用 get\n    get demo() {\n        return [];\n    },\n};\n\nwrapperOptions(options, 1000 * 5);\n\nexport default options;\n","import '../../style/index.less'; // style dependencies\n// deps-lint-skip: grid\n\nimport '../../grid/style';","import '../../style/index.less'; // style dependencies\n// deps-lint-skip: grid\n\nimport '../../grid/style';","import { Row } from '../grid';\nexport default Row;","import { Col } from '../grid';\nexport default Col;","import '../../style/index.less';\nimport './index.less'; // style dependencies\n\nimport '../../tabs/style';\nimport '../../row/style';\nimport '../../col/style';","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { ConfigConsumer } from '../config-provider';\n\nvar Grid = function Grid(_a) {\n  var prefixCls = _a.prefixCls,\n      className = _a.className,\n      _a$hoverable = _a.hoverable,\n      hoverable = _a$hoverable === void 0 ? true : _a$hoverable,\n      props = __rest(_a, [\"prefixCls\", \"className\", \"hoverable\"]);\n\n  return /*#__PURE__*/React.createElement(ConfigConsumer, null, function (_ref) {\n    var getPrefixCls = _ref.getPrefixCls;\n    var prefix = getPrefixCls('card', prefixCls);\n    var classString = classNames(\"\".concat(prefix, \"-grid\"), className, _defineProperty({}, \"\".concat(prefix, \"-grid-hoverable\"), hoverable));\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n      className: classString\n    }));\n  });\n};\n\nexport default Grid;","import _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { ConfigConsumer } from '../config-provider';\n\nvar Meta = function Meta(props) {\n  return /*#__PURE__*/React.createElement(ConfigConsumer, null, function (_ref) {\n    var getPrefixCls = _ref.getPrefixCls;\n\n    var customizePrefixCls = props.prefixCls,\n        className = props.className,\n        avatar = props.avatar,\n        title = props.title,\n        description = props.description,\n        others = __rest(props, [\"prefixCls\", \"className\", \"avatar\", \"title\", \"description\"]);\n\n    var prefixCls = getPrefixCls('card', customizePrefixCls);\n    var classString = classNames(\"\".concat(prefixCls, \"-meta\"), className);\n    var avatarDom = avatar ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-meta-avatar\")\n    }, avatar) : null;\n    var titleDom = title ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-meta-title\")\n    }, title) : null;\n    var descriptionDom = description ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-meta-description\")\n    }, description) : null;\n    var MetaDetail = titleDom || descriptionDom ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-meta-detail\")\n    }, titleDom, descriptionDom) : null;\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, others, {\n      className: classString\n    }), avatarDom, MetaDetail);\n  });\n};\n\nexport default Meta;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport omit from \"rc-util/es/omit\";\nimport Grid from './Grid';\nimport Meta from './Meta';\nimport Tabs from '../tabs';\nimport Row from '../row';\nimport Col from '../col';\nimport { ConfigContext } from '../config-provider';\nimport SizeContext from '../config-provider/SizeContext';\n\nfunction getAction(actions) {\n  var actionList = actions.map(function (action, index) {\n    return (\n      /*#__PURE__*/\n      // eslint-disable-next-line react/no-array-index-key\n      React.createElement(\"li\", {\n        style: {\n          width: \"\".concat(100 / actions.length, \"%\")\n        },\n        key: \"action-\".concat(index)\n      }, /*#__PURE__*/React.createElement(\"span\", null, action))\n    );\n  });\n  return actionList;\n}\n\nvar Card = function Card(props) {\n  var _extends2, _classNames;\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var size = React.useContext(SizeContext);\n\n  var onTabChange = function onTabChange(key) {\n    var _a;\n\n    (_a = props.onTabChange) === null || _a === void 0 ? void 0 : _a.call(props, key);\n  };\n\n  var isContainGrid = function isContainGrid() {\n    var containGrid;\n    React.Children.forEach(props.children, function (element) {\n      if (element && element.type && element.type === Grid) {\n        containGrid = true;\n      }\n    });\n    return containGrid;\n  };\n\n  var customizePrefixCls = props.prefixCls,\n      className = props.className,\n      extra = props.extra,\n      _props$headStyle = props.headStyle,\n      headStyle = _props$headStyle === void 0 ? {} : _props$headStyle,\n      _props$bodyStyle = props.bodyStyle,\n      bodyStyle = _props$bodyStyle === void 0 ? {} : _props$bodyStyle,\n      title = props.title,\n      loading = props.loading,\n      _props$bordered = props.bordered,\n      bordered = _props$bordered === void 0 ? true : _props$bordered,\n      customizeSize = props.size,\n      type = props.type,\n      cover = props.cover,\n      actions = props.actions,\n      tabList = props.tabList,\n      children = props.children,\n      activeTabKey = props.activeTabKey,\n      defaultActiveTabKey = props.defaultActiveTabKey,\n      tabBarExtraContent = props.tabBarExtraContent,\n      hoverable = props.hoverable,\n      _props$tabProps = props.tabProps,\n      tabProps = _props$tabProps === void 0 ? {} : _props$tabProps,\n      others = __rest(props, [\"prefixCls\", \"className\", \"extra\", \"headStyle\", \"bodyStyle\", \"title\", \"loading\", \"bordered\", \"size\", \"type\", \"cover\", \"actions\", \"tabList\", \"children\", \"activeTabKey\", \"defaultActiveTabKey\", \"tabBarExtraContent\", \"hoverable\", \"tabProps\"]);\n\n  var prefixCls = getPrefixCls('card', customizePrefixCls);\n  var loadingBlockStyle = bodyStyle.padding === 0 || bodyStyle.padding === '0px' ? {\n    padding: 24\n  } : undefined;\n  var block = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-loading-block\")\n  });\n  var loadingBlock = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-loading-content\"),\n    style: loadingBlockStyle\n  }, /*#__PURE__*/React.createElement(Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 22\n  }, block)), /*#__PURE__*/React.createElement(Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 8\n  }, block), /*#__PURE__*/React.createElement(Col, {\n    span: 15\n  }, block)), /*#__PURE__*/React.createElement(Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 6\n  }, block), /*#__PURE__*/React.createElement(Col, {\n    span: 18\n  }, block)), /*#__PURE__*/React.createElement(Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 13\n  }, block), /*#__PURE__*/React.createElement(Col, {\n    span: 9\n  }, block)), /*#__PURE__*/React.createElement(Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 4\n  }, block), /*#__PURE__*/React.createElement(Col, {\n    span: 3\n  }, block), /*#__PURE__*/React.createElement(Col, {\n    span: 16\n  }, block)));\n  var hasActiveTabKey = activeTabKey !== undefined;\n\n  var extraProps = _extends(_extends({}, tabProps), (_extends2 = {}, _defineProperty(_extends2, hasActiveTabKey ? 'activeKey' : 'defaultActiveKey', hasActiveTabKey ? activeTabKey : defaultActiveTabKey), _defineProperty(_extends2, \"tabBarExtraContent\", tabBarExtraContent), _extends2));\n\n  var head;\n  var tabs = tabList && tabList.length ? /*#__PURE__*/React.createElement(Tabs, _extends({\n    size: \"large\"\n  }, extraProps, {\n    className: \"\".concat(prefixCls, \"-head-tabs\"),\n    onChange: onTabChange\n  }), tabList.map(function (item) {\n    return /*#__PURE__*/React.createElement(Tabs.TabPane, {\n      tab: item.tab,\n      disabled: item.disabled,\n      key: item.key\n    });\n  })) : null;\n\n  if (title || extra || tabs) {\n    head = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-head\"),\n      style: headStyle\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-head-wrapper\")\n    }, title && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-head-title\")\n    }, title), extra && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-extra\")\n    }, extra)), tabs);\n  }\n\n  var coverDom = cover ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-cover\")\n  }, cover) : null;\n  var body = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-body\"),\n    style: bodyStyle\n  }, loading ? loadingBlock : children);\n  var actionDom = actions && actions.length ? /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"\".concat(prefixCls, \"-actions\")\n  }, getAction(actions)) : null;\n  var divProps = omit(others, ['onTabChange']);\n  var mergedSize = customizeSize || size;\n  var classString = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-loading\"), loading), _defineProperty(_classNames, \"\".concat(prefixCls, \"-bordered\"), bordered), _defineProperty(_classNames, \"\".concat(prefixCls, \"-hoverable\"), hoverable), _defineProperty(_classNames, \"\".concat(prefixCls, \"-contain-grid\"), isContainGrid()), _defineProperty(_classNames, \"\".concat(prefixCls, \"-contain-tabs\"), tabList && tabList.length), _defineProperty(_classNames, \"\".concat(prefixCls, \"-\").concat(mergedSize), mergedSize), _defineProperty(_classNames, \"\".concat(prefixCls, \"-type-\").concat(type), !!type), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, divProps, {\n    className: classString\n  }), head, coverDom, body, actionDom);\n};\n\nCard.Grid = Grid;\nCard.Meta = Meta;\nexport default Card;"],"sourceRoot":""}